{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center">
    <h3>My Results</h3>
    <a href="{{ url_for('student.download_report_pdf') }}" class="btn btn-success">Download Report PDF</a>
  </div>

  <div class="mt-3">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Subject</th>
          <th>Exam Type</th>
          <th>Marks</th>
          <th>Max</th>
          <th>%</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody>
        {% for r in rows %}
        <tr>
          <td>{{ r.subject_name }}</td>
          <td>{{ r.exam_type }}</td>
          <td>{{ r.marks_obtained }}</td>
          <td>{{ r.max_marks }}</td>
          <td>{{ r.percentage }}</td>
          <td>{{ r.remarks or '-' }}</td>
        </tr>
        {% endfor %}
      </tbody>
      <tfoot>
        <tr class="fw-bold">
          <td colspan="2">Totals</td>
          <td>{{ total_marks }}</td>
          <td>{{ total_max }}</td>
          <td>{{ overall_percentage }}</td>
          <td>Grade: {{ overall_grade }}</td>
        </tr>
      </tfoot>
    </table>
  </div>

  <div class="alert alert-info">Attendance: {{ attendance_pct }}%</div>
</div>
{% endblock %}


